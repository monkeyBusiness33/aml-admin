{% extends "layouts/base.html" %}
{% load static %}
{% block title %} Send Broadcast Message {% endblock %}

{% block stylesheets %}
{% endblock stylesheets %}

{% block content %}

    <form id="" method="post">
        {% csrf_token %}
        <div class="row">
            <div class="col-12 col-xl-12">
                <div class="card border-0 shadow mb-4">

                    <div class="card-header p-2 ps-3 pe-3">
                        <div class="row align-items-center">
                            <div class="col">
                                <h2 class="fs-5 fw-bold mb-0">Send Broadcast Message</h2>

                            </div>
                            <div class="col text-end">
                                <div>
                                    <div class="alert alert-warning m-0 p-2 text-start" role="alert">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        Please be attentive sending message to <b>all</b> users.
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="card-body pt-3">
                        {% for error in form.non_field_errors %}
                            <div class="alert alert-danger d-flex align-items-center is-invalid" role="alert">
                                <i class="fas fa-exclamation-triangle"></i>
                                <div>
                                    {{ error }}
                                </div>
                            </div>
                        {% endfor %}
                        <div class="row">
                            <div class="col">
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        {% include 'includes/_form_field.html' with field=form.title %}
                                    </div>
                                    <div class="col-md-12 mb-3">
                                        {% include 'includes/_form_field.html' with field=form.text %}
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        {% include 'includes/_form_field.html' with field=form.send_via %}
                                    </div>
                                    <div class="col-md-12 mb-3">
                                        {% include 'includes/_form_field.html' with field=form.send_to %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>

                        <div class="mt-3">
                            <button class="btn btn-primary mt-2 animate-up-2" type="submit">Send Message</button>
                        </div>

                    </div>
                </div>
                <div class="col-12 col-xl-12">
                    {% include 'broadcast_message_activity_log.html' %}
                </div>

            </div>
        </div>
    </form>

{% endblock content %}

{% block javascripts %}
    <script type="text/javascript" charset="utf8" src="{% static 'assets/js/datatables.js' %}"></script>
{% endblock javascripts %}